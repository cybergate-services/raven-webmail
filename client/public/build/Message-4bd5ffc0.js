import{S as t,a as e,s as a,b as n,c as s,d as o,e as l,n as c,f as r,an as i,l as m,o as $,A as d,y as f,B as u,O as g,G as p,ar as h,K as x,k as b,E as w,L as k,F as v,m as y,a2 as j,x as A,z as L,ao as B,aq as T,as as M,H as S,p as R,Y as _,Z as z,Q as U,R as D,a5 as C,a6 as H,at as I,W as N,J as P,au as Z,af as q,r as E,a4 as F,av as G,aw as J,ag as K,u as O,ah as Q,ax as V}from"./main-41bc76b9.js";import{T as W,a as Y,R as X,M as tt,d as et,c as at,b as nt,U as st}from"./MoveTo-601710f5.js";function ot(t){let e,a;return{c(){e=n("svg"),a=n("path"),s(a,"d","M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"),s(a,"fill",t[2]),s(e,"width",t[0]),s(e,"height",t[1]),s(e,"viewBox",t[3])},m(t,n){o(t,e,n),l(e,a)},p(t,[n]){4&n&&s(a,"fill",t[2]),1&n&&s(e,"width",t[0]),2&n&&s(e,"height",t[1]),8&n&&s(e,"viewBox",t[3])},i:c,o:c,d(t){t&&r(e)}}}function lt(t,e,a){let{size:n="1em"}=e,{width:s=n}=e,{height:o=n}=e,{color:l="currentColor"}=e,{viewBox:c="0 0 24 24"}=e;return t.$set=t=>{"size"in t&&a(4,n=t.size),"width"in t&&a(0,s=t.width),"height"in t&&a(1,o=t.height),"color"in t&&a(2,l=t.color),"viewBox"in t&&a(3,c=t.viewBox)},[s,o,l,c,n]}class ct extends t{constructor(t){super(),e(this,t,lt,ot,a,{size:4,width:0,height:1,color:2,viewBox:3})}}function rt(t,e,a){const n=t.slice();return n[6]=e[a],n}function it(t){let e,a,n=t[2].length+"";return{c(){e=b("x-count"),a=w(n),k(e,"class","svelte-d56671")},m(t,n){o(t,e,n),l(e,a)},p(t,e){4&e&&n!==(n=t[2].length+"")&&v(a,n)},d(t){t&&r(e)}}}function mt(t){let e,a,n,s;const c=new h({}),i=new x({});let g=t[2].length&&it(t);return{c(){e=b("x-action"),m(c.$$.fragment),a=y(),m(i.$$.fragment),n=y(),g&&g.c(),k(e,"slot","activator"),k(e,"class","btn-dark"),k(e,"data-tooltip","Archivos adjuntos")},m(t,r){o(t,e,r),$(c,e,null),l(e,a),$(i,e,null),l(e,n),g&&g.m(e,null),s=!0},p(t,a){t[2].length?g?g.p(t,a):(g=it(t),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(t){s||(d(c.$$.fragment,t),d(i.$$.fragment,t),s=!0)},o(t){f(c.$$.fragment,t),f(i.$$.fragment,t),s=!1},d(t){t&&r(e),u(c),u(i),g&&g.d()}}}function $t(t){let e,a,n,c,i,m,$=t[6].filename+"";return{c(){e=b("x-item"),a=b("img"),c=y(),i=w($),m=y(),a.src!==(n=M(t[6].filename))&&s(a,"src",n),s(a,"alt",""),s(a,"class","svelte-d56671"),k(e,"class","svelte-d56671")},m(t,n){o(t,e,n),l(e,a),l(e,c),l(e,i),o(t,m,n)},p(t,e){4&e&&a.src!==(n=M(t[6].filename))&&s(a,"src",n),4&e&&$!==($=t[6].filename+"")&&v(i,$)},d(t){t&&r(e),t&&r(m)}}}function dt(t){let e;const a=new T({props:{href:"/download/"+t[3].id+"/"+t[4].id+"/"+t[6].id+"?filename="+encodeURIComponent(t[6].filename),download:!0,target:"_blank",$$slots:{default:[$t]},$$scope:{ctx:t}}});return{c(){m(a.$$.fragment)},m(t,n){$(a,t,n),e=!0},p(t,e){const n={};28&e&&(n.href="/download/"+t[3].id+"/"+t[4].id+"/"+t[6].id+"?filename="+encodeURIComponent(t[6].filename)),516&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){e||(d(a.$$.fragment,t),e=!0)},o(t){f(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}function ft(t){let e,a,n,s=t[2],l=[];for(let e=0;e<s.length;e+=1)l[e]=dt(rt(t,s,e));const c=t=>f(l[t],1,1,()=>{l[t]=null});return{c(){e=y();for(let t=0;t<l.length;t+=1)l[t].c();a=j()},m(t,s){o(t,e,s);for(let e=0;e<l.length;e+=1)l[e].m(t,s);o(t,a,s),n=!0},p(t,e){if(28&e){let n;for(s=t[2],n=0;n<s.length;n+=1){const o=rt(t,s,n);l[n]?(l[n].p(o,e),d(l[n],1)):(l[n]=dt(o),l[n].c(),d(l[n],1),l[n].m(a.parentNode,a))}for(A(),n=s.length;n<l.length;n+=1)c(n);L()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)d(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)f(l[t]);n=!1},d(t){t&&r(e),B(l,t),t&&r(a)}}}function ut(t){let e;const a=new i({props:{origin:"top right",$$slots:{default:[ft],activator:[mt]},$$scope:{ctx:t}}});return{c(){m(a.$$.fragment)},m(t,n){$(a,t,n),e=!0},p(t,[e]){const n={};540&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){e||(d(a.$$.fragment,t),e=!0)},o(t){f(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}function gt(t,e,a){let n,s,o=c,l=()=>(o(),o=g(m,t=>a(3,n=t)),m),r=c,i=()=>(r(),r=g($,t=>a(4,s=t)),$);t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>r());let{mailbox:m}=e;l();let{message:$}=e;i();let{attachments:d}=e;const{trans:f}=p("app");return t.$set=t=>{"mailbox"in t&&l(a(0,m=t.mailbox)),"message"in t&&i(a(1,$=t.message)),"attachments"in t&&a(2,d=t.attachments)},[m,$,d,n,s]}class pt extends t{constructor(t){super(),e(this,t,gt,ut,a,{mailbox:0,message:1,attachments:2})}}function ht(t){let e;const a=new at({});return{c(){m(a.$$.fragment)},m(t,n){$(a,t,n),e=!0},i(t){e||(d(a.$$.fragment,t),e=!0)},o(t){f(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}function xt(t){let e;const a=new nt({});return{c(){m(a.$$.fragment)},m(t,n){$(a,t,n),e=!0},i(t){e||(d(a.$$.fragment,t),e=!0)},o(t){f(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}function bt(t){let e,a,n,s,c;const i=new K({}),g=new x({});return{c(){e=b("x-action"),m(i.$$.fragment),a=y(),m(g.$$.fragment),k(e,"class","btn-dark"),k(e,"data-tooltip",n=t[3].actions.markAsSpam)},m(n,r,m){o(n,e,r),$(i,e,null),l(e,a),$(g,e,null),s=!0,m&&c(),c=R(e,"click",t[13])},p(t,a){(!s||8&a&&n!==(n=t[3].actions.markAsSpam))&&k(e,"data-tooltip",n)},i(t){s||(d(i.$$.fragment,t),d(g.$$.fragment,t),s=!0)},o(t){f(i.$$.fragment,t),f(g.$$.fragment,t),s=!1},d(t){t&&r(e),u(i),u(g),c()}}}function wt(t){let e,a,n,s,c;const i=new st({}),g=new x({});return{c(){e=b("x-action"),m(i.$$.fragment),a=y(),m(g.$$.fragment),k(e,"class","btn-dark"),k(e,"data-tooltip",n=t[3].actions.unMarkAsSpam)},m(n,r,m){o(n,e,r),$(i,e,null),l(e,a),$(g,e,null),s=!0,m&&c(),c=R(e,"click",t[13])},p(t,a){(!s||8&a&&n!==(n=t[3].actions.unMarkAsSpam))&&k(e,"data-tooltip",n)},i(t){s||(d(i.$$.fragment,t),d(g.$$.fragment,t),s=!0)},o(t){f(i.$$.fragment,t),f(g.$$.fragment,t),s=!1},d(t){t&&r(e),u(i),u(g),c()}}}function kt(t){let e,a;const n=new pt({props:{mailbox:t[0],message:t[1],attachments:t[5].attachments,tooltip:t[3].actions.attachments}});return{c(){e=b("x-action-group"),m(n.$$.fragment)},m(t,s){o(t,e,s),$(n,e,null),a=!0},p(t,e){const a={};1&e&&(a.mailbox=t[0]),2&e&&(a.message=t[1]),32&e&&(a.attachments=t[5].attachments),8&e&&(a.tooltip=t[3].actions.attachments),n.$set(a)},i(t){a||(d(n.$$.fragment,t),a=!0)},o(t){f(n.$$.fragment,t),a=!1},d(t){t&&r(e),u(n)}}}function vt(t){let e,a,n,c,i,g,p,h,w,v,B,T,M,S,_,z,U,D,C,H,I,N,Z,F,G,J,K,O,Q,V,W;const Y=new ct({}),at=new x({}),nt=new x({}),st=[xt,ht],ot=[];function lt(t,e){return t[5].seen?0:1}v=lt(t),B=ot[v]=st[v](t);const rt=[wt,bt],it=[];~(S=function(t,e){return t[8]?0:t[10]||t[11]||t[9]?-1:1}(t))&&(_=it[S]=rt[S](t));const mt=new q({}),$t=new x({}),dt=new X({}),ft=new x({});let ut=!t[10]&&!t[11]&&function(t){let e,a,n,s,c;const i=new et({}),g=new x({});return{c(){e=b("x-action"),m(i.$$.fragment),a=y(),m(g.$$.fragment),k(e,"class","btn-dark"),k(e,"data-tooltip",n=t[3].actions.reply)},m(n,r,m){o(n,e,r),$(i,e,null),l(e,a),$(g,e,null),s=!0,m&&c(),c=R(e,"click",t[15])},p(t,a){(!s||8&a&&n!==(n=t[3].actions.reply))&&k(e,"data-tooltip",n)},i(t){s||(d(i.$$.fragment,t),d(g.$$.fragment,t),s=!0)},o(t){f(i.$$.fragment,t),f(g.$$.fragment,t),s=!1},d(t){t&&r(e),u(i),u(g),c()}}}(t);const gt=new tt({props:{mailbox:t[0],selection:P([t[1]]),tooltip:t[3].actions.moveTo}});gt.$on("moved",t[17]);let pt=t[5].attachments&&t[5].attachments.length&&kt(t);return{c(){e=b("x-action-group"),a=b("a"),m(Y.$$.fragment),n=y(),m(at.$$.fragment),g=y(),p=b("x-action-group"),h=b("x-action"),m(nt.$$.fragment),w=y(),B.c(),M=y(),_&&_.c(),z=y(),U=b("x-action"),m(mt.$$.fragment),D=y(),m($t.$$.fragment),H=y(),I=b("x-action-group"),N=b("x-action"),m(dt.$$.fragment),Z=y(),m(ft.$$.fragment),G=y(),ut&&ut.c(),J=y(),K=b("x-action-group"),m(gt.$$.fragment),O=y(),pt&&pt.c(),Q=j(),s(a,"class","x-action btn-dark"),s(a,"href",c="#!/mailbox/"+t[4].id),s(a,"data-tooltip",i=t[3].actions.backToMailbox),k(h,"class","btn-dark"),k(h,"data-tooltip",T=t[5].seen?t[3].actions.markAsUnread:t[3].actions.markAsRead),k(U,"class","btn-dark"),k(U,"data-tooltip",C=t[9]?t[3].actions.deletePermanently:t[10]?t[3].actions.discardDrafts:t[3].actions.delete),k(N,"class","btn-dark"),k(N,"data-tooltip",F=t[3].actions.forward)},m(s,c,r){o(s,e,c),l(e,a),$(Y,a,null),l(a,n),$(at,a,null),o(s,g,c),o(s,p,c),l(p,h),$(nt,h,null),l(h,w),ot[v].m(h,null),l(p,M),~S&&it[S].m(p,null),l(p,z),l(p,U),$(mt,U,null),l(U,D),$($t,U,null),o(s,H,c),o(s,I,c),l(I,N),$(dt,N,null),l(N,Z),$(ft,N,null),l(I,G),ut&&ut.m(I,null),o(s,J,c),o(s,K,c),$(gt,K,null),o(s,O,c),pt&&pt.m(s,c),o(s,Q,c),V=!0,r&&E(W),W=[R(h,"click",t[12]),R(U,"click",t[14]),R(N,"click",t[16])]},p(t,e){(!V||16&e&&c!==(c="#!/mailbox/"+t[4].id))&&s(a,"href",c),(!V||8&e&&i!==(i=t[3].actions.backToMailbox))&&s(a,"data-tooltip",i);let n=v;v=lt(t),v!==n&&(A(),f(ot[n],1,1,()=>{ot[n]=null}),L(),B=ot[v],B||(B=ot[v]=st[v](t),B.c()),d(B,1),B.m(h,null)),(!V||40&e&&T!==(T=t[5].seen?t[3].actions.markAsUnread:t[3].actions.markAsRead))&&k(h,"data-tooltip",T),_&&_.p(t,e),(!V||8&e&&C!==(C=t[9]?t[3].actions.deletePermanently:t[10]?t[3].actions.discardDrafts:t[3].actions.delete))&&k(U,"data-tooltip",C),(!V||8&e&&F!==(F=t[3].actions.forward))&&k(N,"data-tooltip",F),t[10]||t[11]||ut.p(t,e);const o={};1&e&&(o.mailbox=t[0]),2&e&&(o.selection=P([t[1]])),8&e&&(o.tooltip=t[3].actions.moveTo),gt.$set(o),t[5].attachments&&t[5].attachments.length?pt?(pt.p(t,e),32&e&&d(pt,1)):(pt=kt(t),pt.c(),d(pt,1),pt.m(Q.parentNode,Q)):pt&&(A(),f(pt,1,1,()=>{pt=null}),L())},i(t){V||(d(Y.$$.fragment,t),d(at.$$.fragment,t),d(nt.$$.fragment,t),d(B),d(_),d(mt.$$.fragment,t),d($t.$$.fragment,t),d(dt.$$.fragment,t),d(ft.$$.fragment,t),d(ut),d(gt.$$.fragment,t),d(pt),V=!0)},o(t){f(Y.$$.fragment,t),f(at.$$.fragment,t),f(nt.$$.fragment,t),f(B),f(_),f(mt.$$.fragment,t),f($t.$$.fragment,t),f(dt.$$.fragment,t),f(ft.$$.fragment,t),f(ut),f(gt.$$.fragment,t),f(pt),V=!1},d(t){t&&r(e),u(Y),u(at),t&&r(g),t&&r(p),u(nt),ot[v].d(),~S&&it[S].d(),u(mt),u($t),t&&r(H),t&&r(I),u(dt),u(ft),ut&&ut.d(),t&&r(J),t&&r(K),u(gt),t&&r(O),pt&&pt.d(t),t&&r(Q),E(W)}}}function yt(t){let e;function a(t,e){return t[5].from.name?At:jt}let n=a(t),s=n(t);return{c(){e=b("x-message-from"),s.c(),k(e,"class","svelte-hdndkc")},m(t,a){o(t,e,a),s.m(e,null)},p(t,o){n===(n=a(t))&&s?s.p(t,o):(s.d(1),s=n(t),s&&(s.c(),s.m(e,null)))},d(t){t&&r(e),s.d()}}}function jt(t){let e,a,n,c,i=t[3].message.labels.from+"",m=t[5].from.address+"";return{c(){e=w(i),a=y(),n=b("span"),c=w(m),s(n,"class","from-main svelte-hdndkc")},m(t,s){o(t,e,s),o(t,a,s),o(t,n,s),l(n,c)},p(t,a){8&a&&i!==(i=t[3].message.labels.from+"")&&v(e,i),32&a&&m!==(m=t[5].from.address+"")&&v(c,m)},d(t){t&&r(e),t&&r(a),t&&r(n)}}}function At(t){let e,a,n,c,i,m,$,d,f=t[3].message.labels.from+"",u=t[5].from.name+"",g=t[5].from.address+"";return{c(){e=w(f),a=y(),n=b("span"),c=w(u),i=y(),m=w("<"),$=w(g),d=w(">"),s(n,"class","from-main svelte-hdndkc")},m(t,s){o(t,e,s),o(t,a,s),o(t,n,s),l(n,c),o(t,i,s),o(t,m,s),o(t,$,s),o(t,d,s)},p(t,a){8&a&&f!==(f=t[3].message.labels.from+"")&&v(e,f),32&a&&u!==(u=t[5].from.name+"")&&v(c,u),32&a&&g!==(g=t[5].from.address+"")&&v($,g)},d(t){t&&r(e),t&&r(a),t&&r(n),t&&r(i),t&&r(m),t&&r($),t&&r(d)}}}function Lt(t){let e,a,n,s,c=t[3].message.labels.to+"",i=t[5].to.map(_t).join(", ")+"";return{c(){e=b("x-message-to"),a=w(c),n=y(),s=w(i),k(e,"class","svelte-hdndkc")},m(t,c){o(t,e,c),l(e,a),l(e,n),l(e,s)},p(t,e){8&e&&c!==(c=t[3].message.labels.to+"")&&v(a,c),32&e&&i!==(i=t[5].to.map(_t).join(", ")+"")&&v(s,i)},d(t){t&&r(e)}}}function Bt(t){let e,a,n,s,c=t[3].message.labels.date+"",i=new Date(t[5].date).toLocaleString()+"";return{c(){e=b("x-message-date"),a=w(c),n=y(),s=w(i),k(e,"class","svelte-hdndkc")},m(t,c){o(t,e,c),l(e,a),l(e,n),l(e,s)},p(t,e){8&e&&c!==(c=t[3].message.labels.date+"")&&v(a,c),32&e&&i!==(i=new Date(t[5].date).toLocaleString()+"")&&v(s,i)},d(t){t&&r(e)}}}function Tt(t){let e,a,n=t[5].text+"";return{c(){e=b("pre"),a=w(n)},m(t,n){o(t,e,n),l(e,a)},p(t,e){32&e&&n!==(n=t[5].text+"")&&v(a,n)},d(t){t&&r(e)}}}function Mt(t){let e,a=G(t[5].html.join(""))+"";return{c(){e=new J(a,null)},m(t,a){e.m(t,a)},p(t,n){32&n&&a!==(a=G(t[5].html.join(""))+"")&&e.p(a)},d(t){t&&e.d()}}}function St(t){let e,a,n,s,c,i,g,p,h,x,j,A,L,B=t[5].subject+"";const T=new Y({props:{scrolled:0!==t[6],$$slots:{default:[vt]},$$scope:{ctx:t}}});let M=t[5].from&&yt(t),S=t[5].to&&Lt(t),_=t[5].date&&Bt(t);function z(t,e){return t[5].html&&t[5].html.length?Mt:((null==j||32&e)&&(j=!(!t[5].text||!t[5].text.trim())),j?Tt:void 0)}let U=z(t,-1),D=U&&U(t);return{c(){m(T.$$.fragment),e=y(),a=b("x-tab-content"),n=b("x-message-title"),s=w(B),c=y(),i=b("x-message-info"),M&&M.c(),g=y(),S&&S.c(),p=y(),_&&_.c(),h=y(),x=b("x-message-content"),D&&D.c(),k(n,"class","svelte-hdndkc"),k(i,"class","svelte-hdndkc"),k(x,"class","svelte-hdndkc"),k(a,"class","svelte-hdndkc")},m(r,m,d){$(T,r,m),o(r,e,m),o(r,a,m),l(a,n),l(n,s),l(a,c),l(a,i),M&&M.m(i,null),l(i,g),S&&S.m(i,null),l(i,p),_&&_.m(i,null),l(a,h),l(a,x),D&&D.m(x,null),A=!0,d&&L(),L=R(a,"scroll",t[7])},p(t,e){const a={};64&e&&(a.scrolled=0!==t[6]),2097211&e&&(a.$$scope={dirty:e,ctx:t}),T.$set(a),(!A||32&e)&&B!==(B=t[5].subject+"")&&v(s,B),t[5].from?M?M.p(t,e):(M=yt(t),M.c(),M.m(i,g)):M&&(M.d(1),M=null),t[5].to?S?S.p(t,e):(S=Lt(t),S.c(),S.m(i,p)):S&&(S.d(1),S=null),t[5].date?_?_.p(t,e):(_=Bt(t),_.c(),_.m(i,null)):_&&(_.d(1),_=null),U===(U=z(t,e))&&D?D.p(t,e):(D&&D.d(1),D=U&&U(t),D&&(D.c(),D.m(x,null)))},i(t){A||(d(T.$$.fragment,t),A=!0)},o(t){f(T.$$.fragment,t),A=!1},d(t){u(T,t),t&&r(e),t&&r(a),M&&M.d(),S&&S.d(),_&&_.d(),D&&D.d(),L()}}}function Rt(t){let e,a,n;document.title=e=t[5].subject;const s=new W({props:{$$slots:{default:[St]},$$scope:{ctx:t}}});return{c(){a=y(),m(s.$$.fragment)},m(t,e){o(t,a,e),$(s,t,e),n=!0},p(t,[a]){(!n||32&a)&&e!==(e=t[5].subject)&&(document.title=e);const o={};2097275&a&&(o.$$scope={dirty:a,ctx:t}),s.$set(o)},i(t){n||(d(s.$$.fragment,t),n=!0)},o(t){f(s.$$.fragment,t),n=!1},d(t){t&&r(a),u(s,t)}}}const _t=t=>`<${t.address}>`;function zt(t,e,a){let n,s,o,l,r=c,i=()=>(r(),r=g(u,t=>a(4,n=t)),u),m=c,$=()=>(m(),m=g(h,t=>a(5,s=t)),h),d=c,f=()=>(d(),d=g(x,t=>a(6,l=t)),x);t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>m()),t.$$.on_destroy.push(()=>d());let{mailbox:u}=e;i();let{message:h}=e;$();let{scroll:x}=e;f();let b=_===u,w=z===u,k=U===u,v=D===u;const y=t=>{let e=!1;return async()=>{if(!e){e=!0;try{await t()}catch(t){throw t}finally{e=!1}}}},j=y(async()=>{await F(n.id,[s.id],!s.seen),h.update(t=>({...t,seen:!t.seen}))}),A=y(async()=>{await C(n.id,[s.id],!b),location.hash="#!/mailbox/"+n.id}),L=y(async()=>{await H(n.id,[s.id]),location.hash="#!/mailbox/"+n.id}),B=y(async()=>{const t=await I(n.id,s.id);N(P(t))}),T=y(async()=>{const t=await Z(n.id,s.id);N(P(t))}),{locale:M}=p("app");S(t,M,t=>a(19,o=t));let{locale:R=o}=e;return t.$set=t=>{"mailbox"in t&&i(a(0,u=t.mailbox)),"message"in t&&$(a(1,h=t.message)),"scroll"in t&&f(a(2,x=t.scroll)),"locale"in t&&a(3,R=t.locale)},[u,h,x,R,n,s,l,t=>x.set(t.target.scrollTop),b,w,k,v,j,A,L,B,T,()=>setTimeout(()=>location.hash="#!/mailbox/"+n.id,250),M]}class Ut extends t{constructor(t){super(),e(this,t,zt,Rt,a,{mailbox:0,message:1,scroll:2,locale:3})}}function Dt(t){let e;const a=new Ut({props:{mailbox:t[0],message:t[1],scroll:t[2]}});return{c(){m(a.$$.fragment)},m(t,n){$(a,t,n),e=!0},p(t,[e]){const n={};1&e&&(n.mailbox=t[0]),2&e&&(n.message=t[1]),4&e&&(n.scroll=t[2]),a.$set(n)},i(t){e||(d(a.$$.fragment,t),e=!0)},o(t){f(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}async function Ct(t){if(!O.get())return this.redirect("#!/login");const e=await Q(t.params.mailbox);if(null==e)return this.redirect("#!/");try{const a=await V(t.params.mailbox,t.params.message);return{mailbox:e,message:P(a),scroll:P(0)}}catch(t){this.redirect("#!/mailbox/"+e.get().id)}}function Ht(t,e,a){let{mailbox:n}=e,{message:s}=e,{scroll:o}=e;return t.$set=t=>{"mailbox"in t&&a(0,n=t.mailbox),"message"in t&&a(1,s=t.message),"scroll"in t&&a(2,o=t.scroll)},[n,s,o]}export default class extends t{constructor(t){super(),e(this,t,Ht,Dt,a,{mailbox:0,message:1,scroll:2})}}export{Ct as preload};
//# sourceMappingURL=Message-4bd5ffc0.js.map
