{"version":3,"file":"Message-8f72c84d.js","sources":["../../node_modules/svelte-material-icons/ArrowLeft.svelte","../../src/comp/Attachments/Attachments.svelte","../../src/comp/Pages/Message/Message.svelte","../../src/lib/router/routes/Message.svelte"],"sourcesContent":["<script>\n  export let size = \"1em\";\n  export let width = size;\n  export let height = size;\n  export let color = \"currentColor\";\n  export let viewBox = \"0 0 24 24\";\n</script>\n\n<svg width=\"{width}\" height=\"{height}\" viewBox=\"{viewBox}\"><path d=\"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\" fill=\"{color}\"/></svg>","<style>\n  x-count {\n    position: absolute;\n    top: 0;\n    right: 0;\n    font-size: 0.6em;\n    color: #fff;\n    background: var(--pc);\n    border-radius: 50%;\n    width: 1.4em;\n    height: 1.4em;\n    line-height: 1.4em;\n    text-align: center;\n  }\n\n  x-item {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding-inline-end: 0.5em;\n  }\n\n  img {\n    flex: none;\n    height: 1.5em;\n    width: 1.5em;\n    margin-inline-end: 1em;\n  }\n</style>\n\n<script>\n  export let mailbox;\n  export let message;\n  export let attachments;\n\n  import Paperclip from \"svelte-material-icons/Paperclip.svelte\";\n  import {Ripple, Menuitem} from \"svelte-mui\";\n  import Menu from \"svelte-mui/src/Menu.svelte\";\n  import {url} from \"lib@fileIcons.js\";\n\n  import {getContext} from \"svelte\";\n  const {trans} = getContext(\"app\");\n</script>\n\n<Menu origin=\"top right\">\n  <x-action slot=\"activator\" class=\"btn-dark\" data-tooltip=\"Archivos adjuntos\">\n    <Paperclip/>\n    <Ripple/>\n    {#if attachments.length}\n      <x-count>{attachments.length}</x-count>\n    {/if}\n  </x-action>\n\n  {#each attachments as file}\n    <Menuitem href=\"/download/{$mailbox.id}/{$message.id}/{file.id}?filename={encodeURIComponent(file.filename)}\" download target=\"_blank\">\n      <x-item>\n        <img src={url(file.filename)} alt=\"\">\n        {file.filename}\n      </x-item>\n    </Menuitem>\n  {/each}\n</Menu>","<style>\n  x-tab-content {\n    position: relative;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: auto;\n    padding: 2em 3em;\n  }\n\n  x-message-title {\n    font-size: 1.5em;\n    font-weight: 600;\n    min-height: auto;\n    word-break: break-word;\n  }\n\n  x-message-content {\n    margin-top: 3em;\n    min-height: auto;\n    margin-bottom: 2em;\n  }\n\n  x-message-content :global(a) {\n    color: blue;\n    text-decoration: underline;\n  }\n\n  x-message-content :global(a:visited) {\n    color: blueviolet;\n  }\n  \n  x-message-info {\n    flex: none;\n    display: flex;\n    flex-direction: column;\n    margin-top: 2em;\n  }\n\n  x-message-from, x-message-to, x-message-date {\n    padding: 0.25em 0;\n  }\n\n  x-message-content {\n    flex-grow: 1;\n  }\n\n  .from-main{\n    font-weight: 600;\n  }\n  \n</style>\n\n<script>\n  import {writable} from \"../../../lib/store\";\n  import {getContext} from \"svelte\";\n\n  import Tab from \"../Main.svelte\";\n  import Topbar from \"../ActionBar.svelte\";\n  //import Content from \"/comp/Tab/Content.svelte\";\n\n  import Delete from \"svelte-material-icons/DeleteOutline.svelte\";\n  import MarkUnseen from \"svelte-material-icons/EmailOutline.svelte\";\n  //import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  //import MarkUnseen from \"svelte-material-icons/EmailMultipleOutline.svelte\";\n  //import MarkUnseen from \"svelte-material-icons/EmailMarkAsUnread.svelte\";\n  import MarkSeen from \"svelte-material-icons/EmailOpenOutline.svelte\";\n  import MarkSpam from \"svelte-material-icons/AlertDecagramOutline.svelte\";\n  import UnMarkSpam from \"svelte-material-icons/EmailCheckOutline.svelte\";\n  import Resend from \"svelte-material-icons/EmailSendOutline.svelte\";\n  import Reply from \"svelte-material-icons/EmailReceiveOutline.svelte\";\n  import GoBack from \"svelte-material-icons/ArrowLeft.svelte\";\n\n  import {Ripple} from \"svelte-mui\";\n\n  import {sanitize} from \"../../../lib/sanitize\";\n\n  import {create} from \"../../Compose/compose\";\n  \n  export let mailbox;\n  export let message;\n  export let scroll;\n\n  const handleScroll = e => scroll.set(e.target.scrollTop);\n\n  import * as messages from \"../../../lib/client/messages\"\n  import * as mailboxes from \"../../../lib/client/mailboxes\"\n\n  let isJunk = mailboxes.junk === mailbox;\n  let isTrash = mailboxes.trash === mailbox;\n  let isDraft = mailboxes.drafts === mailbox;\n  let isSent = mailboxes.sent === mailbox;\n\n  const onetime = fn => {\n    let updating = false;\n    return async () => {\n      if (updating) return;\n      updating = true;\n      try {\n        await fn();\n      } catch(e) {\n        throw e;\n      } finally {\n        updating = false;\n      }\n    }\n  }\n\n  const seen = onetime(async () => {\n    await messages.updateSeen($mailbox.id, [$message.id], !$message.seen);\n    message.update(m => ({...m, seen: !m.seen}))\n  })\n\n  const spam = onetime(async () => {\n    await messages.markAsSpam($mailbox.id, [$message.id], !isJunk);\n    location.hash = `#!/mailbox/${$mailbox.id}`;\n  })\n\n  const del = onetime(async () => {\n    await messages.del($mailbox.id, [$message.id]);\n    location.hash = `#!/mailbox/${$mailbox.id}`;\n  })\n\n  const reply = onetime(async () => {\n    const $draft = await messages.createReply($mailbox.id, $message.id);\n    create(writable($draft));\n  })\n\n  const forward = onetime(async () => {\n    const $draft = await messages.createForward($mailbox.id, $message.id);\n    create(writable($draft));\n  })\n\n  import MoveTo from \"../MoveTo.svelte\";\n  const gotoBox = () => setTimeout((() => location.hash = `#!/mailbox/${$mailbox.id}`), 250);\n\n  import Attachments from \"comp@Attachments/Attachments.svelte\";\n\n  const {locale: l} = getContext(\"app\");\n  export let locale = $l;\n</script>\n\n<svelte:head>\n  <title>{$message.subject}</title>\n</svelte:head>\n\n<Tab>\n  <Topbar scrolled={$scroll !== 0}>\n    <x-action-group>\n      <a class=\"x-action btn-dark\" href=\"#!/mailbox/{$mailbox.id}\" data-tooltip={locale.actions.backToMailbox}>\n        <GoBack />\n        <Ripple />\n      </a>\n    </x-action-group>\n\n    <x-action-group>\n      <x-action \n        class=\"btn-dark\"\n        data-tooltip={$message.seen ? locale.actions.markAsUnread : locale.actions.markAsRead}\n        on:click={seen}\n      >\n        <Ripple />\n        {#if $message.seen}\n          <MarkUnseen />\n        {:else}\n          <MarkSeen />\n        {/if}\n      </x-action>\n\n      {#if isJunk}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.unMarkAsSpam} on:click={spam}>\n          <UnMarkSpam />\n          <Ripple />\n        </x-action>\n      {:else if !isDraft && !isSent && !isTrash}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.markAsSpam} on:click={spam}>\n          <MarkSpam />\n          <Ripple />\n        </x-action>\n      {/if}\n\n      <x-action class=\"btn-dark\" data-tooltip={\n          isTrash ? locale.actions.deletePermanently :\n          isDraft ? locale.actions.discardDrafts :\n          locale.actions.delete\n      } on:click={del}>\n        <Delete />\n        <Ripple />\n      </x-action>\n    </x-action-group>\n\n    <x-action-group>\n      <x-action class=\"btn-dark\" data-tooltip={locale.actions.forward} on:click={forward}>\n        <Resend />\n        <Ripple />\n      </x-action>\n\n      {#if !isDraft && !isSent}\n        <x-action class=\"btn-dark\" data-tooltip={locale.actions.reply} on:click={reply}>\n          <Reply />\n          <Ripple />\n        </x-action>\n      {/if}\n    </x-action-group>\n\n    <x-action-group>\n      <MoveTo {mailbox} selection={writable([message])} on:moved={gotoBox} tooltip={locale.actions.moveTo} />\n    </x-action-group>\n\n    {#if $message.attachments && $message.attachments.length}\n      <x-action-group>\n        <Attachments {mailbox} {message} attachments={$message.attachments} tooltip={locale.actions.attachments} />\n      </x-action-group>\n    {/if}\n  </Topbar>\n\n  <x-tab-content on:scroll={handleScroll}>\n    <x-message-title>{$message.subject}</x-message-title>\n    <x-message-info>\n\n      {#if $message.from}\n        <x-message-from>       \n          {#if $message.from.name}\n            {locale.message.labels.from}\n            <span class=\"from-main\">{$message.from.name}</span>\n            {\"<\"}{$message.from.address}{\">\"}\n          {:else}\n            {locale.message.labels.from}\n            <span class=\"from-main\">\n              {$message.from.address} \n            </span>\n          {/if}\n        </x-message-from>\n      {/if}\n      \n      {#if $message.to}\n        <x-message-to>\n          {locale.message.labels.to} {$message.to.map(to => {\n              return `<${to.address}>`\n            }).join(\", \")}\n        </x-message-to>\n      {/if}\n      \n      {#if $message.date}\n        <x-message-date>\n          {locale.message.labels.date} {new Date($message.date).toLocaleString()}\n        </x-message-date>\n      {/if}\n    </x-message-info>\n\n    <x-message-content>\n      {#if $message.html && $message.html.length}\n        {@html sanitize($message.html.join(\"\"))}\n      {:else if $message.text && $message.text.trim()}\n        <pre>{$message.text}</pre>\n      {/if}\n    </x-message-content>\n\n  </x-tab-content>\n</Tab>","<script context=\"module\">\n  import {writable} from \"../../../lib/store\";\n  import {user} from \"../../../lib/client/client\";\n  import * as mailboxes from \"../../../lib/client/mailboxes\";\n  import * as messages from \"../../../lib/client/messages\";\n\n  export async function preload($page) {\n    \n    if ( !user.get() ) {\n      return this.redirect(\"#!/login\");\n    }\n\n    const mailbox = await mailboxes.get($page.params.mailbox);\n    \n    if (mailbox == null) {\n      return this.redirect(\"#!/\");\n    }\n\n    try {\n      const $message = await messages.get($page.params.mailbox, $page.params.message);\n      const message = writable($message);\n      const scroll = writable(0);\n      return { mailbox, message, scroll };\n\n    } catch(e) {\n      this.redirect(`#!/mailbox/${mailbox.get().id}`);\n    }\n  }\n</script>\n\n<script>\n  import Message from \"../../../comp/Pages/Message/Message.svelte\";\n  //import Page from \"../../comp/Page.svelte\";\n\n  export let mailbox;\n  export let message;\n  export let scroll;\n</script>\n\n<Message {mailbox} {message} {scroll} />"],"names":["mailboxes.junk","mailboxes.trash","mailboxes.drafts","mailboxes.sent","messages.updateSeen","messages.markAsSpam","messages.del","messages.createReply","messages.createForward","mailboxes.get","messages.get"],"mappings":"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"}